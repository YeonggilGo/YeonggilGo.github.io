---
layout: post
title: "Python Web Framework 차이점: Django, Flask, Fastapi"
# cover-img: /assets/img/path.jpg
thumbnail-img: /assets/img/flask_fastapi.jpg
# share-img: /assets/img/path.jpg
tags: [python, web, flask, django]
comments: true
# gh-repo: yeonggilgo/pyspark-exercise
---

 Micro Api server를 구현할 일이 생겼는데 어떤 web framework가 유리할지, 어떤 차이점을 가지고 있는지 공부해봤다.



# 🔨  용도별


## 1. Django



 장고는 High-level Framework 입니다. 풀 프레임워크로 웹뷰탬플릿을 활용 할 수 있습니다.



디자인 철학은 6가지 카테고리로 수십가지 철학을 기본으로 하고 있는데, 우선 대표적인 4가지는 아래와 같습니다. 

- Loose Coupling : 프레임워크내 레이어들은 꼭 서로 알아야 하는 상황이 아니면 서로서로 알 필요가 없다. Django는 풀프레임워크지만, 그 안에 조각들은 독립적으로 작동한다.

- Less Code : 코딩을 더 조금만 할 수 있도록

- Quick Development : 빠르게 개발할 수 있도록

- Don't Repeat Yourself : 코드 내용은 프로젝트 내 한 곳에만 있을 수 있도록. 프레임워크는 작은 정보에서 더 큰 것을 추론할 수 있어야 한다. 





### **장점**

1. 준비 되어 있는

    기본적인 기능부터 프로 개발자들이 개발해 놓은 각종 패키지들까지 모두 들어가 있습니다. 시간을 아낄 수 있고, 기본 기능을 만드느라 시간을 지체할 필요가 없습니다. 서드 파티(구글, 페이스북) 등과 연계할만한 기능들도 갖추고 있습니다. 엄청난 크기의 생태계는 당신이 무엇을 생각하고 있던, 누군가 이미 만들어 놓았다는 것을 의미하기도 합니다. 원하는대로 받아서 원하는대로 조립하는 느낌이 드는 프레임 워크입니다. 

    기본으로 제공 되는 기능 중에 하나는 어드민 기능입니다. 바로 DB에 CRUD를 할 수 있는 공간이 생깁니다. 저는 데이터베이스 툴을 따로 사용하지만, 그렇게 없으셔도 Django는 그런 것을 지원합니다.



2. 엄청난 생태계

    Django 는 심할정도로 디테일하게 문서를 써 두었습니다. ORM 도 내부에서 지원하기 떄문에 ORM 문서 역시 합쳐져 있지요. StackOverflow에 질문을 하시면 그 중 절반은 "문서에 있으니, 문서를 읽어보라" 라는 말로 끝날 정도 입니다. 또한, 엄청난 크기의 생태계는 그들의 실력과 경험에 상관없이 서로를 보완하는데 상당한 도움이 되어 줍니다. 



3. 확장성

    많은 프로젝트들이 신경쓰고 있는 부분입니다. 특히 요즘 대세인 Start Small, Build Big 정신을 토대로, 처음은 모두 작게 시작하는 것을 원합니다. 작은 프로젝트를 스케일링 하는 기능을 장고는 기본적으로 제공합니다. Django를 사용하는 Spotify, 인스타그램도, 아마 그렇게 시작했을 거에요!



### **단점**

1. 사이즈

    편의점 삼각김밥 까지는 아니지만, 밀키트 처럼 먹기 딱 좋게 세팅하려다 보니 무겁습니다. 프레임워크만 거의 30만줄에 달하고 점점 늘어나고 있습니다. '내부 기능들이 서로서로 독립적으로' 가 디자인 철학이지만, 서로서로 엉켜있는 듯한 느낌이 들기도 합니다.



2. 속도

    Django는 빠른 웹프레임워크가 아닙니다. 3.0 버전으로 올라오면서 ASGI를 지원하기 시작하여 그 전 버전들은 더욱 그렇습니다. 빠른 속도가 필수가 되어 가는 시대 입니다만, 속도면에서 아쉬운 것은 어쩔수 없습니다. 이 속도를 메꾸기 위해 뛰어난 캐시시스템이 내부에 탑재되어 있지만, 그래도 아쉽습니다. 하지만, 지금 시작하시는 분들에게 속도는 문제가 되지 않을것입니다. 많은 사용자가 생기고 지연이 누적되고 누적되야 비로소 느껴지는 차이 입니다. 





**## 2. Flask**



 플라스크는 WSGI 프레임워크 입니다. 플라스크는 당신이 어떤 프로젝트를 만들던 그에 맞게 높은 퍼포먼스를 보여 줄 거에요. 2010년에 처음 세상에 나와서 이미 깃헙 스타 5만3천여개를 받고 있고 큰 커뮤니티를 가지고 있습니다. 필요하다면 Jinja2를 사용하여 프론트엔드 작업도 가미할 수 있습니다. SQLAlchemy가 아니더라도 그어떤 ORM도 사용할 수 있고, 쿠키와 클라이언트 사이드 세션을 지원합니다. 유닛테스트를 지원하며 우수한 성능의 디버거가 포함되어 있습니다.



### **장점**

1. 미니멀하고 직관적이다.

   코드 몇 줄 이면 시작할 수 있습니다. Django 보다 코드가 10% 정도 밖에 안되는 가벼운 프레임워크 입니다. 꽤 쉽게 이해할 수 있고 꽤 쉽게 개발을 시작할 수 있습니다.



2. 매우 빠른 개발 속도

    보안 등 세밀한 부분에 신경을 쓰지 않아도 된다면, 아마 프로토타이핑에 가장 빠른 프레임워크라고 해도 과언이 아닐정도로 빠르게 개발할 수 있습니다. 패키징된 프레임워크 안에 이미 당신이 필요한 모든 것이 들어 있습니다.



### **단점**

1. WSGI의 한계

    WSGI는 구조적으로 한번에 많은 트래픽을 처리하기엔 느리다는 단점이 있습니다. ASGI를 공식적으로 지원하지 않는 이상 빠른 웹프레임워크라는 수식어는 앞으로 사용할 수 없을 수도 있습니다. 우리에겐 Gunicorn이 있지만, 관리 요소가 늘어나고, WSGI의 구조적 한계를 Gunicorn으로 완전히 지울 수 없는 것이 사실입니다.





## 3. FastAPI

 Django Rest Framework, Flask 중 고민하시는 분이 FastAPI 역시 고려하지 않을까 싶습니다. 출시된지 2년이 갓 넘은 시점에 Github Star 는 이미 Django와 Flask의 절반 정도까지 따라 왔습니다. 이 웹프레임워크는 나온지 얼마 안되 강의도 잘 되어 있지않고, 아직 현업에서 사용하는 곳이 많지 않지만,  어쩌면 지각변동을 일으킬 그런 프레임워크가 될수도 있을 것 같습니다.



### **장점**

1. ASGI 사용

   ASGI 사용으로 FastAPI 안에서 비동기 처리를 수행할 수 있습니다.



2. Pydantic 을 사용한 벨리데이션

    Pydantic 은 현존 파이썬 벨리데이터 중에 가장 빠릅니다. Pydantic 으로 복잡한 벨리데이션 코드 없이 편하게 벨리데이션이 가능합니다. 물론 오류 Json Response도 Pydantic이 직접 만들어 전송합니다.



3. OpenAPI 문서 자동생성

    Swagger와 같은 api docs를 자동 생성해줍니다. Django와 Flask는 외부 라이브러리를 활용하여 작성하여야 하고 매번 doc내용을 업데이트 해줘야하는 불편함을 자동으로 해결해줍니다. 프론트 팀과 협업해야 하는 상황이라면 좋은 선택지가 될 수 있을 것 같습니다.



### **단점**

1. 약한 생태계

    확실히 나온지 얼마 안되서 생태계가 빈약합니다. 빠른 속도로 늘어나고 있지만, 아직 이 프레임워크를 본격적으로 쓰는 회사가 없기 때문에 많은 라이브러리를 사용하기 쉽지 않습니다. 일일히 하나씩 다 만들거나 모든 Python 프로젝트에서 사용할 수 있는 라이브러리 등을 사용해야 합니다. 빠르게 사용자가 늘어가고 있는 점, python의 확장성 까지 생각한다면 어느정도 무마할 수 있는 단점이라고 생각합니다.



2. 아직 애기

    아직 지속적으로 개선중인 베타버전의 프레임워크입니다. 사용하시면서 어떤부분에서는 불편함을 느낄 수도 있습니다.





참고 : [웹프레임워크 - 끝판왕 가리기](https://dingrr.com/blog/post/python-웹프레임워크-끝판왕-가리기-django-flask-fastapi-sanic)